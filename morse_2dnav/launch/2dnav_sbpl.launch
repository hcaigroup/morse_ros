<launch>

  <include file="$(find morse_2dnav)/morse_sbpl/launch/move_base/move_base_sbpl.xml"/>
  <include file="$(find morse_tf)/launch/morse_tf.launch"/>

 
  <node name="map_server" pkg="map_server" type="map_server" args="$(find morse_2dnav)/maps/tut1_map_025.yaml"/>
  
  <node name="map_server" pkg="map_server" type="map_server" args="$(find morse_2dnav)/maps/tut1_map.yaml"/> 
 
  <node pkg="nav_pcontroller" type="nav_pcontroller" name="nav_pcontroller" output="screen">
    <remap from="~laser_1" to="/Jido/Sick"/>
    <rosparam>
      enable_jlo: false
      
      slowdown_far: 0.20
      slowdown_near: 0.08
      safety_dist: 0.06
      repelling_dist: 0.10
      repelling_gain: 0.5
      repelling_gain_max: 0.015

      vel_ang_max: 0.6
      vel_lin_max: 0.5
      acc_ang_max: 0.4
      acc_lin_max: 0.4
      loop_rate: 30
      p: 1.2

      n_lasers: 1
      complete_blind_spots: false

      speed_filter_name: /nav_pcontroller
      footprint:
        top: 0.33
        bottom: -0.33
        right: 0.33
        left: -0.33
        tolerance: 0.0
    </rosparam>
  </node>
 
  <node name="test_morse_nodes" pkg="morse_2dnav" type="test_morse_nodes.py"/> 
</launch>
